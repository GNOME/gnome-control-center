2002-03-12  jacob berkman  <jacob@ximian.com>

	* capplet-dir-view.c (prefs_menu_cb): comment this out as it makes
	a call into preferences.c

	* Makefile.am (gnome2_control_center_SOURCES): add preferences.h
	back as files depend on it

2002-03-11  Richard Hestilow  <hestilow@ximian.com>
	
	* capplet-dir-view.c: Remove barely-used libglade stuff, replace
	with BonoboWindow. Add a menu with "close" since this is needed
	for accessibility.

	* gnomecc-ui.xml: Added.

	* Makefile.am: Remove preferences.[ch] from the build. Remove
	libglade stuff. Install gnomecc-ui.xml. 

	* capplet-dir-view-list.c: Remove any "//" comments.

2002-03-05  jacob berkman  <jacob@ximian.com>

	* Makefile.am: clean up; remove some duplicate / obsolete paths
	and bogus INCLUDE path

2002-02-28  Zbigniew Chyla  <cyba@gnome.pl>

	* capplet-dir.c (capplet_new, capplet_dir_new):
	s/gnome_desktop_item_get_string/gnome_desktop_item_get_localestring
	(use translated version of GNOME_DESKTOP_ITEM_NAME).

2002-02-27  Kjartan Maraas  <kmaraas@gnome.org>

	* main.c: s/PACKAGE/GETTEXT_PACKAGE/g
	
2002-02-20  Lauris Kaplinski  <lauris@ximian.com>

	* Makefile.am: Removed extra '\' from the end of
	commented out line, which was causing problems with
	some make/autoconf/automake combinations

2002-02-14  Lauris Kaplinski  <lauris@ximian.com>

	* preferences.c (gnomecc_preferences_get): Public method to
	get pointer of static preferences object

	* main.c (gnome_cc_save_yourself): Session signal handler
	(gnome_cc_die): Ditto
	(main): Get client and connect session manager signals

	* capplet-dir-view.c (capplet_dir_view_new): Get prefs pointer
	via public method
	(get_capplet_dir_view): Ditto
	(gnomecc_init): Ditto

	* capplet-dir-view-tree.c: Remove #undef GTK_DISABLE_DEPRECATED,
	so if included again we see warnings

	* capplet-dir.c: Remove <bonobo.h> which was unused

	* main.c: Remove <bonobo.h> which was unused

	* preferences.c (read_preferences): Remove LAYOUT_TREE
	(place_preferences): Ditto

	* preferences.h: Remove LAYOUT_TREE from preferences

	* capplet-dir-view.c: Removed capplet_dir_view_tree
	(capplet_dir_view_set_prop): Ditto

	* Makefile.am: Remove capplet-dir-view-tree from SOURCES

2002-02-12  Lauris Kaplinski  <lauris@ximian.com>

	* preferences.c (prefs_dialog_ok_cb): Destroy widget instead of
	gnome_dialog_close
	(prefs_dialog_cancel_cb): Ditto
	(prefs_dialog_response): Common button click handler
	(gnomecc_preferences_get_config_dialog): Connect GtkDialog 'response' signal

	* capplet-dir-view.c (capplet_dir_view_load_dir): Replace deprecated methods,
	use gdk_pixbuf/gtk_image instead of gnome_pixmap
	(prefs_changed_cb): Use g_object_set
	(option_menu_activate): Use g_object_set_data

2002-02-08  Richard Hestilow  <hestilow@ximian.com>
	
	* main.c (main): Ignore nautilus if run with --use-shell.

2002-02-06  Mark McLoughlin  <mark@skynet.ie>

	* gnomecc.desktop.in: change Exec from gnomecc to
	gnome2-control-center.

2002-02-05  jacob berkman  <jacob@ximian.com>

	* gnomecc.desktop.in (Icon): 
	* capplet-dir.c (find_icon): use control-center2.png

2002-02-04  Lauris Kaplinski  <lauris@ximian.com>

	* capplet-dir-view-tree.c (populate_tree_branch): Use
	g_object unref instead of gdk_pixbuf_unref

	* capplet-dir-view-list.c (list_clean): Use g_object_unref
	(sidebar_arrow_update): g_build_filename
	(list_create): Replace deprecated methods

	* preferences.c (gnomecc_preferences_class_init): Use g_signal_new
	(read_preferences): Use g_signal_emit

	* capplet-dir.c (find_icon): Use glib methods instead of
	deprecated stuff

2002-01-21  Richard Hestilow  <hestilow@ximian.com>

	* main.c: Use nautilus as the shell if it is already running.

2002-01-17  Jakub Steiner <jimmac@ximian.com>

	* control-center.png: fix the antialiasing

2002-01-14  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (bin_PROGRAMS): Rename binary gnome2-control-center
	Update
	(CLEANFILES): Add this line

2002-01-09  Jean Schurger <jschurger@schurger.org>

	* capplet-dir.c (capplet_new): Check for entry->icon[0] != 0
		if (Icon =) in the desktop file.
		if entry->icon is a DIR
		If entry->icon[0] still NULL.

2002-01-03  Richard Hestilow  <hestilow@ximian.com>

	* capplet-dir.c (capplet_new): Check for ditem::icon != NULL
	before calling gnome_pixmap_file.

	* gnomecc.glade: Remove toolbar & menu stuff (this was causing
	runtime glade warnings).

2001-12-20  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir-view-list.c: Eliminate compiler warnings

	* preferences.c: Eliminate compiler warnings

	* capplet-dir-view.c: Eliminate compiler warnings

	* capplet-dir.c: Eliminate compiler warnings

	* main.c: Eliminate compiler warnings

2001-12-19  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* gnomecc.desktop.in:

	Install into $datadir/applications and add a Categories
	field to the .desktop file.

2001-12-18  Bradford Hovinen  <hovinen@ximian.com>

	* preferences.c (gnomecc_preferences_load): Use GConf
	(gnomecc_preferences_save): Ditto

2001-12-17  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir-view.c (capplet_dir_view_init): Move most of the
	initialization stuff from capplet_dir_view_new to here

	* capplet-dir-view.[ch]: Port to GObject

	* main.c (main): Remove support for launching capplets
	(real_launch_control): Remove

	* capplet-dir.c: Remove bonobo capplet utility functions
	(capplet_activate): Don't use capplet_control_launch

2001-12-13  Richard Hestilow  <hestilow@ximian.com>
	
	* capplet-dir-view-list.c: Remove all g_print statements.
	(header_expose_cb): Fix pixbuf clipping.
	
	* capplet-dir-view.c (capplet_dir_view_new):
	s/gtk_object_unref/g_object_unref.

	* main.c (main): s/bonobo_main/gtk_main.

2001-12-08  Havoc Pennington  <hp@pobox.com>

	* capplet-dir-view.c: remove unused include that broke stuff

	* capplet-dir.c (capplet_activate): fix args to
	gnome_desktop_item_launch

2001-12-08  Richard Hestilow  <hestilow@ximian.com>

	* capplet-dir-view-list.c (list_populate): Fix call to
	gnome_icon_list_insert.
	(list_create): Update call to gnome_icon_list_new, and use
	a GtkHPaned instead of a GtkHBox.
	
2001-11-28  Richard Hestilow  <hestilow@ximian.com>

	* capplet-dir-view.c (help_cb): Update call to gnome_help_display.

2001-11-26  Richard Hestilow  <hestilow@ximian.com>

	* Initial port to GNOME2, removal of gtkhtml deps.
	
2001-10-26  Bradford Hovinen  <hovinen@ximian.com>

	* main.c: Remove #ifdef HAVE_BONOBO instances

	* capplet-dir.c: Remove #idef HAVE_BONOBO instances

2001-10-16  Jakub Steiner <jimmac@ximian.com>

	* control-center.png: usability@ thinks using hands is offensive.
	  This is a temporary icon
	
2001-10-14  Larry Ewing  <lewing@ximian.com>

	* capplet-dir-view.c (capplet_dir_view_new): set the window icon.

2001-10-12  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Unref the property bag
	when we are done

2001-09-28  Carlos Perelló Marín <carlos@gnome-db.org>

 	* capplet-dir-view-html.c: Now we use utf-8 strings
 
2001-09-22  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Create apply and close
	buttons to match the setup tools

2001-08-20  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Update moniker being
	used

2001-07-31  Chema Celorio  <chema@celorio.com>

	* Makefile.am (cappletname): add DISTDIR to install-data-local

2001-07-28  Carlos Perelló Marín <carlos@gnome-db.org>

	* capplet-dir-view-html.c: Reverted my utf patch. Sorry :-(

2001-07-28  Carlos Perelló Marín <carlos@gnome-db.org>

	* main.c: /s/Configuraiton/Configuration/

2001-07-27  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_activate): Use timeout when launching
	desktop entry; idle handler when launching Bonobo control

	* RELEASE : 1.5.2

2001-07-26  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_activate): Remove debugging messages

	* capplet-dir.h (struct _Capplet): Add flag launching

	* capplet-dir.c (capplet_new): Initialize capplet->launching
	(capplet_reset_cb): Implement. Just reset capplet->launching
	(capplet_activate): Just return if capplet->launching is set;
	otherwise set that flag and add an idle handler to unset it

	* kill-gnomecc.sh: Don't kill oafd for fear that someone may be
	running Evolution. Kill bonobo-moniker-archiver after everything
	else is dead. Redirect errors to /dev/null. Kill the mouse
	properties capplet, too.

	* gnomecc.glade: Don't make the main window modal

	* capplet-dir.c (capplet_control_launch): Remove check for capplet
	already running

2001-07-25  Chema Celorio  <chema@celorio.com>

	* capplet-dir-view.c (about_menu_cb): jrb's name had a typo

	* Makefile.am (EXTRA_DIST): don't this Gnome.directory.in this will
	be generated at the users box by a sed from Gnome.directory.in.in

2001-07-25  Richard Hestilow  <hestilow@ximian.com>

	* main.c (main): Move capplet-launching code into an idle handler.
	Bonobo sucks like that.

	* capplet-dir.c (capplet_activate): Remove the check for gnomecc,
	it was causing grief with bonobo. Story at 11.

2001-07-24  Chema Celorio  <chema@celorio.com>

	* capplet-dir-view-html.c (html_create): set the usize of hte
	side bar a bit smaller. Also set the size of the glade file a bit
	wider

	* capplet-dir-view.c (capplet_dir_view_load_dir): set the title
	of the window to "Gnome Control Center : foo"

2001-07-24  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Set moniker property
	manually
	(capplet_control_launch): Remove double-free of the moniker
	(capplet_control_launch): Release and unref the property control
	in the event of an error
	(capplet_control_launch): Conclude that the capplet is already
	running only when the exception type is
	Bonobo/Moniker/InterfaceNotFound

2001-07-23  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Put up an error dialog
	and abort the process if the capplet reports an error trying to
	resolve its moniker
	(capplet_control_launch): Don't connect the app's button signals
	if the app has just been destroyed

2001-07-20  Chema Celorio  <chema@celorio.com>

	* RELEASE : 1.5.0

2001-07-19  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (install-data-local): Uncomment

2001-07-19  Richard Hestilow  <hestilow@ximian.com>
	
	* Gnome.directory.in.in: Change name to "Main".

	* capplet-dir.c (capplet_new): Return NULL if program
	is not accessible.

	* capplet-dir-view.c (sidebar_populate): Don't show a directory
	if it is empty.

2001-07-19  Richard Hestilow  <hestilow@ximian.com>

	* Removed debugging spew.

	* Removed most of the menu bar.

	* capplet-dir-view.c (about_menu_cb): Add Chema, jimmac, and myself
	to authors list.

	* capplet-dir-view-html.c (html_populate, html_write_row): Spacing
	fix.

2001-07-19  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (EXTRA_DIST): Added missing Gnome.directory.in.in

	* capplet-dir.c (capplet_control_launch): Don't give an error if
	the property control is NULL

2001-07-19  Richard Hestilow  <hestilow@ximian.com>

	* forgot to commit the pngs

2001-07-19  Richard Hestilow  <hestilow@ximian.com>

	* capplet-dir-view-html.c (main_allocate_cb: New function to
	compute optimal number of columns. Try resizing, it's fun!
 
2001-07-19  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir-view.c (capplet_dir_view_load_dir): Set the window title

2001-07-19  Chema Celorio  <chema@celorio.com>

	* Makefile.am (ccenter_DATA): move Gnome.directory to here

2001-07-18  Richard Hestilow  <hestilow@ximian.com>

	* capplet-dir.c (capplet_new): Remove annoying debugging output.

	* capplet-dir-view-html.c: Rewritten to use jimmac's new interface.

	* bcg_top.png, title.png, blank.png, active.png: Added.

	* Makefile.am (splash_DATA): Add new pixmap files.

	* gnomecc.glade: Remove ugly toolbar. 

	* capplet-dir-view.[ch]: Remove toolbar-related code.

2001-07-18  Chema Celorio  <chema@celorio.com>

	* capplet-dir.c (get_root_capplet_dir): if the directory is not found, warn
	and exit. Don't coredump
	* main.c (main):

2001-07-17  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_cancel_cb):
	(capplet_ok_cb): Explicitly unref the property control

2001-07-13  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Accept window_title
	parameter and use it as the title
	(capplet_activate): Pass entry->name to capplet_control_launch
	(capplet_control_launch): Don't print error and use correct test
	for control_ref == CORBA_OBJECT_NIL

2001-07-13  Kai Lahmann  <kl@linuxfaqs.de>

	* capplet-dir-view-html.c (header_populate): made the header
	smaller - scrolling won't go
	(html_populate): small fixes in html code

2001-07-13  jacob berkman  <jacob@ximian.com>

	* main.c (main): initialize gconf if gtkhtml is gconf-enabled

2001-07-12  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_activate): Fix position of capplet name
	in the Bonobo case
	(capplet_new): Don't abort if the entry says to run gnomecc

2001-07-10  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_ok_cb): Notify property control of apply
	action
	(capplet_control_launch): Store PropertyControl in app

2001-07-09  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (gladedir): Update installation directory

	* capplet-dir-view.c (capplet_dir_view_show): Add g_return_if_fail
	macros

	* capplet-dir.c (capplet_control_launch): Create a control by
	first retrieving the PropertyControl and then extracting the
	control from it
	(capplet_control_launch): Connect button signals
	(capplet_cancel_cb): Implement. Just destroy the app widget
	(capplet_ok_cb): Ditto.
	(capplet_control_launch): Don't use a BonoboArg when setting the
	property
	(capplet_control_launch): Don't convert underscores to dashes in
	moniker

	* Makefile.am (INCLUDES): Update directory locations

	* capplet-dir.c (capplet_control_launch): Terminate the list of
	properties to set

2001-07-03  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Use GnomeDialog rather
	than BonoboWindow
	(capplet_control_launch): Use bonobo_widget_set_property for simplicity
	(capplet_control_launch): Eliminate goto statement with an if...else clause

	* main.c (main): Connect destroy signal on capplet window to
	gtk_main_quit

	* capplet-dir.c (capplet_control_launch): Return pointer to
	BonoboWindow

	* main.c (main): Check return value of capplet_control_launch

	* capplet-dir.c (capplet_control_launch): Use goto to make sure
	all data structures are freed

2001-07-02  Bradford Hovinen  <hovinen@ximian.com>

	* capplet-dir.c (capplet_control_launch): Use bonobo_arg_... functions

	* main.c (main): Call capplet_control_launch if capplet was specified on CLI
	Use bonobo_main rather than gtk_main

	* capplet-dir.c (capplet_control_launch): Fix to use Bonobo_Property_setValue
	(capplet_activate): Support capplet_control_launch; use strlen(...) rather than hardcoding length
	(capplet_control_launch): Replace '-' characters with underscores

2001-06-29  Bradford Hovinen  <hovinen@ximian.com>

	* main.c (main): Support --run-capplet argument on the command line

	* capplet-dir.c (capplet_control_launch): Implement. Currently not called,
	but will be used to launch capplets

	* main.c (main): Added OAF and bonobo intialization

2001-01-24  Jason Leach  <jasonleach@usa.net>

	* Makefile.am (INCLUDES): Forgot a trailing backslash so
	GNOMECC_CFLAGS wasn't actually being used.  It is now.

2001-01-24  Bradford Hovinen  <hovinen@ximian.com>

	* Makefile.am (INCLUDES): Cleaned out kruft and replaced it with
	GNOMECC_CFLAGS
	(gnomecc_LDADD): Ditto

2000-12-27  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* capplet-dir-view-list.c (list_populate): call the real
	gnome-libs API rather than my hacked one

	* capplet-dir.c (start_capplet_through_root_manager): pass the
	correct path ($prefix/sbin/<tool>) to the root-manager
	(capplet_activate): check that the Exec line begins with
	root-manager rather than root-manager-helper (for now)

2000-12-26  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* capplet-dir-view*.c: new html view, and split other views into
	seperate parts

2000-10-14  Bradford Hovinen  <hovinen@helixcode.com>

	Courtesy John B Tunison <jtunison@andrew.cmu.edu>:
	* capplet-dir.c (start_capplet_through_root_manager): Use
	FOPEN_MAX rather than OPEN_MAX, since some people don't seem to be
	have OPEN_MAX defined by default

2000-08-22  Bradford Hovinen  <hovinen@helixcode.com>

	* Makefile.am (INCLUDES): Changed SETTINGS_DIR to
	$(datadir)/control-center

2000-08-17  Stanislav Brabec  <utx@penguin.cz>

	* Makefile.am: Added GNOME_LIBDIR to root_manager_LDADD.

2000-08-11  Bradford Hovinen  <hovinen@helixcode.com>

	* all: First checkin of (nearly) complete rewrite. Changes too
	numerous to mention. 

